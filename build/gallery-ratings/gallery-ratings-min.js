YUI.add("gallery-ratings",function(c){var b=c.Lang;function a(d){a.superclass.constructor.apply(this,arguments);}a.NAME="ratings";a.ATTRS={rating:{value:0,validator:"_validateRating",broadcast:1},min:{value:0,readOnly:true},max:{value:5,readOnly:true},inline:{value:false},skin:{value:"default",validator:"_validateSkin"}};a.HTML_PARSER={rating:function(d){var e=parseFloat(d.get("innerHTML"),10);return b.isNumber(e)?e:0;}};a.LIST_TEMPLATE='<div class="{ratings_id}{ratings_inline}">'+'<a href="#" title="0 stars out of 5" class="yui3-zero-stars{ratings_small}">0</a>'+'<ul class="yui3-star-rating{ratings_small}">'+'<li class="yui3-current-rating" style="width:{ratings_width};">{ratings_string}</li>'+'<li><a href="#" title="1 star out of 5" class="yui3-one-star">1</a></li>'+'<li><a href="#" title="2 stars out of 5" class="yui3-two-stars">2</a></li>'+'<li><a href="#" title="3 stars out of 5" class="yui3-three-stars">3</a></li>'+'<li><a href="#" title="4 stars out of 5" class="yui3-four-stars">4</a></li>'+'<li><a href="#" title="5 stars out of 5" class="yui3-five-stars">5</a></li>'+"</ul></div>";c.extend(a,c.Widget,{initializer:function(){},destructor:function(){},renderUI:function(){this._renderList();},bindUI:function(){this.after("ratingChange",this._afterRatingChange);c.on("click",c.bind(this._onClick,this),this.get("boundingBox"));},syncUI:function(){this._uiSetRating(this.get("rating"));},_getWidth:function(){return Math.floor(this.get("rating")/this.get("max")*100)+"%";},_getRatingsString:function(){return"Currently "+this.get("rating")+"/"+this.get("max")+" Stars.";},_validateRating:function(d){if(!b.isNumber(d)){d=parseFloat(d);}return b.isNumber(d)&&d>=this.get("min")&&d<=this.get("max");},_validateSkin:function(d){return b.isString(d)&&(d==="default"||d==="small");},_renderList:function(){var d=this.get("contentBox");d.set("innerHTML","").appendChild(d.create(c.substitute(a.LIST_TEMPLATE,{ratings_id:"yui3-"+this.get("id")+"_ratings",ratings_inline:this.get("inline")?" yui3-inline-rating":"",ratings_small:this.get("skin")==="small"?" yui3-small-star":"",ratings_width:this._getWidth(),ratings_string:this._getRatingsString()})));},_onClick:function(f){var d=f.target;if(d.get("tagName")==="A"){f.halt();this.set("rating",parseFloat(d.get("innerHTML")));}},_afterRatingChange:function(d){this._uiSetRating(d.newVal);},_uiSetRating:function(e){var d=this.get("contentBox").one(".yui3-current-rating");if(d){d.setStyle("width",this._getWidth());d.set("innerHTML",this._getRatingsString());}}});c.Ratings=a;},"@VERSION@",{requires:["widget","substitute"]});